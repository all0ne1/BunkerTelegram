# Bunker Telegram Bot
Этот репозиторий содержит Telegram-бота под названием Project Bunker, который является многопользовательской игрой. Игра заключается в том, что игроки присоединяются к лобби, начинают игру и проходят через раунды, где они по очереди раскрывают свои характеристики, объясняют свою необходимость для выживания в бункере и голосуют за исключение игроков. Игра продолжается до тех пор, пока количество выживших не будет равно половине от числа изначальных игроков.

# Возможности
### Управление Лобби.
Игроки могут создавать и присоединяться к лобби.  
### Игровые Раунды.
Игра проходит через раунды, где игроки раскрывают определенные карты.  
### Система Голосования.
Игроки голосуют за исключение других игроков.  
### Статистика Бункера.
Случайные 5 характеристик бункера раскрываются в течение игры.  
### Характеристики Игроков.
У каждого игрока есть различные характеристики, такие как пол, возраст профессия, здоровье, хобби и факт.  
  
# Требования
Python 3.8+  
aiogram  
SQLite3  

# Установка
### Клонируйте репозиторий:  
```bash
git clone https://github.com/yourusername/project-bunker-bot.git  
cd project-bunker-bot  
```

### Установите необходимые пакеты:  
```sh
pip install aiogram  
```

## Запуск Бота:  
Запустите бота с помощью следующей команды:  
```sh
python bot.py  
```

# Структура Файлов
bot.py: главная точка входа для бота.  
configs/: конфигурационные файлы и вспомогательные функции.  
config.py: конфигурационные константы, например токен бота.  
lobby.py: определение класса Lobby, который управляет состоянием лобби.  
player.py: определение класса Player, который управляет характеристиками каждого игрока.  
utils.py: вспомогательные функции.  
db_connection/: утилиты для подключения к базе данных.  
connection.py: функции для взаимодействия с базой данных SQLite.  
handlers/: обработчики различных команд и состояний бота.  
main_chat.py: основные обработчики чата.  
joining_handler.py: обработчики для присоединения к игре.  
in_lobby_handler.py: обработчики действий в состоянии лобби.  
in_game_handler.py: обработчики действий во время игры.  
vote_for_kick_handler.py: обработчики голосования за исключение игрока.  
revote_for_kick.py: обработчики переголосования в случае ничьей.  
keyboards/: определения инлайн-клавиатур.  
choice_card.py: клавиатура для выбора карты для раскрытия.  
revote_keyboard.py: клавиатура для переголосования.  
start_game_keyboard.py: клавиатура для начала игры.  
start_menu.py: главная меню-клавиатура.  
vote_keyboard.py: клавиатура для голосования за исключение игрока.  
StateGroup/: хранит класс состояний FSM для бота.  
gamestates.py: определения состояний FSM для игры.  

# Как Играть
Найдите бота в Telegram по ID @ProjectBunketBot.  
Пользователи взаимодействуют с ботом, отправляя команды и сообщения в чате Telegram.  

### Создание Лобби:  

Используйте команду /create, чтобы создать новое игровое лобби.
Бот предоставит ID игры, который другие игроки могут использовать для присоединения к лобби.  
Хост также может создать ссылку-приглашение и отправить ее другому пользователю.  

### Присоединение к Лобби:  
Используйте команду /join и введите ID игры, чтобы присоединиться к существующему лобби.
Или используйте ссылку приглашения, которую поделился хост.  

### Начало Игры:  
Хост может начать игру, как только достигнуто минимальное количество игроков, используя кнопку "Начать игру".  

### Игровой Процесс:  
Игроки по очереди раскрывают свои характеристики.  
В каждом раунде раскрывается новая статистика бункера.  
После каждого раунда игроки голосуют за исключение одного игрока.  

### Победа в Игре:  
Игра продолжается до тех пор, пока количество оставшихся игроков не достигнет половины от изначальных.  
